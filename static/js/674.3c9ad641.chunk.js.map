{"version":3,"file":"static/js/674.3c9ad641.chunk.js","mappings":"iRACA,EAA2B,2BAA3B,EAAsE,gCAAtE,EAA8G,wBAA9G,EAAmJ,6BAAnJ,EAAmM,mCAAnM,EAA+P,yC,SCyD/P,EApDa,WACX,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MAYjB,OAVAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,uGACUC,EAAAA,EAAAA,MADV,gBACRC,EADQ,EACRA,QAERN,EAAUM,GAHM,2CAAH,qDAMfF,MACC,KAGD,oBAASG,UAAWC,EAApB,UACE,iBAAKD,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,6BAEA,eAAID,UAAWC,EAAf,SACGT,EAAOU,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACV,eAAIL,UAAWC,EAAf,UACE,UAAC,KAAD,CACEK,GAAI,CACFC,SAAS,WAAD,QAAaC,EAAAA,EAAAA,GAAS,GAAD,OAAIJ,EAAJ,YAAaD,KAC1CM,MAAO,CACLC,KAAM,CACJhB,SAAAA,EACAiB,MAAO,kBANf,WAWE,gBACEC,IACEP,EAAW,yCAC2BA,GAClC,wDAENQ,IAAKT,KAEP,cAAGJ,UAAWC,EAAd,SAAyCG,QApBLD,e,0MC5BvCW,EAAS,4CCGtBC,IAAAA,SAAAA,QAAyB,gCAElB,IAAMjB,EAAmB,mCAAG,+FAC3BkB,EAD2B,4BACQF,GADR,SAGFC,IAAAA,IAAUC,GAHR,uBAGnBxB,EAHmB,EAGzByB,KAHyB,kBAK1BzB,GAL0B,2CAAH,qDAQnB0B,EAAY,mCAAG,WAAOC,GAAP,kFACpBH,EADoB,sBACSF,EADT,4DACmEK,GADnE,SAGKJ,IAAAA,IAAUC,GAHf,uBAGZxB,EAHY,EAGlByB,KAHkB,kBAKnBzB,GALmB,2CAAH,sDAQZ4B,EAAe,mCAAG,WAAOC,GAAP,kFACvBL,EADuB,gBACAK,GADA,OACUP,EADV,4BAGCC,IAAAA,IAAUC,GAHX,uBAGfM,EAHe,EAGrBL,KAHqB,kBAKtBK,GALsB,2CAAH,sDAQfC,EAAY,mCAAG,WAAOF,GAAP,kFACpBL,EADoB,gBACGK,EADH,mBACqBP,EADrB,4BAGHC,IAAAA,IAAUC,GAHP,uBAGlBC,EAHkB,EAGlBA,KAHkB,kBAKnBA,GALmB,2CAAH,sDAQZO,EAAU,mCAAG,WAAOH,GAAP,kFAClBL,EADkB,gBACKK,EADL,mBACuBP,EADvB,4BAGDC,IAAAA,IAAUC,GAHT,uBAGhBC,EAHgB,EAGhBA,KAHgB,kBAKjBA,GALiB,2CAAH,uD,kGCnCVT,EAAW,SAACiB,GAAD,OACtBC,GAAAA,CAAQD,EAAQ,CACdE,OAAO,KAGEC,EAAgB,SAACC,GAAD,OAAUA,EAAKC,MAAM,cAAc","sources":["webpack://react-homework-template/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx","constants/index.js","services/fetchApi.js","services/slug.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"homePage\":\"HomePage_homePage__GDK2b\",\"mainContainer\":\"HomePage_mainContainer__746j2\",\"title\":\"HomePage_title__UFLA3\",\"moviesList\":\"HomePage_moviesList__8MbkQ\",\"moviesList__item\":\"HomePage_moviesList__item__yPnF2\",\"moviesList__movieTitle\":\"HomePage_moviesList__movieTitle__0avlu\"};","import React, { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { fetchTrendingMovies } from \"../../services/fetchApi\";\nimport { makeSlug } from \"../../services/slug\";\nimport s from \"./HomePage.module.css\";\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const getMovies = async () => {\n      const { results } = await fetchTrendingMovies();\n\n      setMovies(results);\n    };\n\n    getMovies();\n  }, []);\n\n  return (\n    <section className={s.homePage}>\n      <div className={s.mainContainer}>\n        <h2 className={s.title}>Trending Today</h2>\n\n        <ul className={s.moviesList}>\n          {movies.map(({ id, title, poster_path }) => (\n            <li className={s.moviesList__item} key={id}>\n              <Link\n                to={{\n                  pathname: `/movies/${makeSlug(`${title} ${id}`)}`,\n                  state: {\n                    from: {\n                      location,\n                      label: \"Back to Home\",\n                    },\n                  },\n                }}\n              >\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w300${poster_path}`\n                      : \"https://pomogaetsrazu.ru/images/offers/2829219234.jpg\"\n                  }\n                  alt={title}\n                />\n                <p className={s.moviesList__movieTitle}>{title}</p>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nexport default Home;\n","export const apiKey = \"?api_key=5fa4bb8a58c85ac583b1447954dde7e6\";\n","import axios from \"axios\";\nimport { apiKey } from \"../constants\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\n\nexport const fetchTrendingMovies = async () => {\n  const queryString = `trending/movie/day${apiKey}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const searchMovies = async (stringToSearch) => {\n  const queryString = `search/movie${apiKey}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const getMovieDetails = async (movieId) => {\n  const queryString = `movie/${movieId}${apiKey}&language=en-US`;\n\n  const { data: movie } = await axios.get(queryString);\n\n  return movie;\n};\n\nexport const getMovieCast = async (movieId) => {\n  const queryString = `movie/${movieId}/credits${apiKey}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n\nexport const getReviews = async (movieId) => {\n  const queryString = `movie/${movieId}/reviews${apiKey}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n","import slugify from \"slugify\";\n\nexport const makeSlug = (string) =>\n  slugify(string, {\n    lower: true,\n  });\n\nexport const getIdFromSlug = (slug) => slug.match(/[a-z0-9]+$/)[0];\n"],"names":["useState","movies","setMovies","location","useLocation","useEffect","getMovies","fetchTrendingMovies","results","className","s","map","id","title","poster_path","to","pathname","makeSlug","state","from","label","src","alt","apiKey","axios","queryString","data","searchMovies","stringToSearch","getMovieDetails","movieId","movie","getMovieCast","getReviews","string","slugify","lower","getIdFromSlug","slug","match"],"sourceRoot":""}