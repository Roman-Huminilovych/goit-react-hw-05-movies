"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{2906:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(8683),a=n(5861),c=n(8152),s=n(7757),u=n.n(s),o=n(2791),i=n(1523),f=n(8931),p=n(5562),v=n.n(p),l=n(2818),m=n(5360),h="MoviesPage_moviesPage__W9QBM",d="MoviesPage_mainContainer__uDZsK",g="MoviesPage_searchForm__oPV05",_="MoviesPage_searchForm__input__Zqk2j",x="MoviesPage_searchForm__button__HWDg0",w="MoviesPage_moviesList__RPIho",b="MoviesPage_moviesList__item__Ys3bg",k="MoviesPage_moviesList__movieTitle__aJNwU",y=n(184),P=function(){var e=(0,o.useState)(""),t=(0,c.Z)(e,2),n=t[0],s=t[1],p=(0,o.useState)([]),P=(0,c.Z)(p,2),j=P[0],Z=P[1],M=(0,f.TH)(),N=(0,f.k6)();(0,o.useEffect)((function(){var e=new URLSearchParams(M.search).get("query");if(e){var t=function(){var t=(0,a.Z)(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.z1)(e);case 2:n=t.sent,r=n.results,Z(r),s(e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[M.search]);var S=function(){var e=(0,a.Z)(u().mark((function e(t){var a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.trim()){e.next=10;break}return e.next=4,(0,l.z1)(n);case 4:a=e.sent,c=a.results,Z(c),s(""),0===c.length&&v().Notify.warning("No movies found! Please change your request and try again"),N.push((0,r.Z)((0,r.Z)({},M),{},{search:"query=".concat(n)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsxs)("section",{className:h,children:[(0,y.jsxs)("div",{className:d,children:[(0,y.jsxs)("form",{onSubmit:S,className:g,children:[(0,y.jsx)("input",{type:"text",placeholder:"Find movie",value:n,onChange:function(e){return s(e.target.value)},className:_}),(0,y.jsx)("button",{type:"submit",className:x,children:"Search"})]}),j.length>0&&(0,y.jsx)("ul",{className:w,children:j.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return(0,y.jsx)("li",{className:b,children:(0,y.jsxs)(i.rU,{to:{pathname:"/movies/".concat((0,m.C)("".concat(n," ").concat(t))),state:{from:{location:M,label:"Back to Movies"}}},children:[(0,y.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w300".concat(r):"https://pomogaetsrazu.ru/images/offers/2829219234.jpg",alt:n}),(0,y.jsx)("p",{className:k,children:n})]})},t)}))})]}),(0,y.jsx)("div",{})]})}},2818:function(e,t,n){n.d(t,{wr:function(){return i},M1:function(){return v},TP:function(){return p},Jh:function(){return l},z1:function(){return f}});var r=n(5861),a=n(7757),c=n.n(a),s=n(4569),u=n.n(s),o="?api_key=5fa4bb8a58c85ac583b1447954dde7e6";u().defaults.baseURL="https://api.themoviedb.org/3/";var i=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="trending/movie/day".concat(o),e.next=3,u().get(t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="search/movie".concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(t),e.next=3,u().get(n);case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t).concat(o,"&language=en-US"),e.next=3,u().get(n);case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/credits").concat(o,"&language=en-US"),e.next=3,u().get(n);case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/reviews").concat(o,"&language=en-US"),e.next=3,u().get(n);case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5360:function(e,t,n){n.d(t,{C:function(){return c},O:function(){return s}});var r=n(333),a=n.n(r),c=function(e){return a()(e,{lower:!0})},s=function(e){return e.match(/[a-z0-9]+$/)[0]}}}]);
//# sourceMappingURL=906.c5aa0792.chunk.js.map